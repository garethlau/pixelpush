[{"C:\\Users\\garet\\Repositories\\img\\client\\src\\App.js":"1","C:\\Users\\garet\\Repositories\\img\\client\\src\\_pages\\Upload.js":"2","C:\\Users\\garet\\Repositories\\img\\client\\src\\_utils\\upload.js":"3","C:\\Users\\garet\\Repositories\\img\\client\\src\\_hooks\\useQueue.js":"4","C:\\Users\\garet\\Repositories\\img\\client\\src\\_pages\\Home.js":"5","C:\\Users\\garet\\Repositories\\img\\client\\src\\index.js":"6","C:\\Users\\garet\\Repositories\\img\\client\\src\\theme.js":"7","C:\\Users\\garet\\Repositories\\img\\client\\src\\_pages\\Font.js":"8","C:\\Users\\garet\\Repositories\\img\\client\\src\\_components\\Button.js":"9","C:\\Users\\garet\\Repositories\\img\\client\\src\\_components\\TextInput.js":"10","C:\\Users\\garet\\Repositories\\img\\client\\src\\_utils\\createAlbum.js":"11","C:\\Users\\garet\\Repositories\\img\\client\\src\\_pages\\Album.js":"12","C:\\Users\\garet\\Repositories\\img\\client\\src\\_mutations\\useUpload.js":"13","C:\\Users\\garet\\Repositories\\img\\client\\src\\_components\\UploadQueue.js":"14","C:\\Users\\garet\\Repositories\\img\\client\\src\\_contexts\\uploadQueue.js":"15","C:\\Users\\garet\\Repositories\\img\\client\\src\\_components\\LinearProgress.js":"16","C:\\Users\\garet\\Repositories\\img\\client\\src\\_contexts\\uploadProgress.js":"17","C:\\Users\\garet\\Repositories\\img\\client\\src\\_queries\\usePhotos.js":"18","C:\\Users\\garet\\Repositories\\img\\client\\src\\_components\\Photo.js":"19","C:\\Users\\garet\\Repositories\\img\\client\\src\\_hooks\\useTextInput.js":"20","C:\\Users\\garet\\Repositories\\img\\client\\src\\_pages\\Authenticate.js":"21","C:\\Users\\garet\\Repositories\\img\\client\\src\\_mutations\\useSignup.js":"22","C:\\Users\\garet\\Repositories\\img\\client\\src\\_mutations\\useLogin.js":"23"},{"size":1558,"mtime":1608609622420,"results":"24","hashOfConfig":"25"},{"size":1444,"mtime":1608589857567,"results":"26","hashOfConfig":"25"},{"size":1091,"mtime":1608599400368,"results":"27","hashOfConfig":"25"},{"size":775,"mtime":1608589690691,"results":"28","hashOfConfig":"25"},{"size":1903,"mtime":1608593253711,"results":"29","hashOfConfig":"25"},{"size":1953,"mtime":1608609984233,"results":"30","hashOfConfig":"25"},{"size":510,"mtime":1608599009462,"results":"31","hashOfConfig":"25"},{"size":701,"mtime":1608591389791,"results":"32","hashOfConfig":"25"},{"size":1136,"mtime":1608592304702,"results":"33","hashOfConfig":"25"},{"size":490,"mtime":1608592661286,"results":"34","hashOfConfig":"25"},{"size":344,"mtime":1608593268169,"results":"35","hashOfConfig":"25"},{"size":3647,"mtime":1608601090056,"results":"36","hashOfConfig":"25"},{"size":1302,"mtime":1608594671598,"results":"37","hashOfConfig":"25"},{"size":2133,"mtime":1608598399190,"results":"38","hashOfConfig":"25"},{"size":367,"mtime":1608596412451,"results":"39","hashOfConfig":"25"},{"size":558,"mtime":1608597969303,"results":"40","hashOfConfig":"25"},{"size":405,"mtime":1608598188070,"results":"41","hashOfConfig":"25"},{"size":612,"mtime":1608600801626,"results":"42","hashOfConfig":"25"},{"size":813,"mtime":1608601378240,"results":"43","hashOfConfig":"25"},{"size":326,"mtime":1608611978048,"results":"44","hashOfConfig":"25"},{"size":6541,"mtime":1608612843205,"results":"45","hashOfConfig":"25"},{"size":960,"mtime":1608612917218,"results":"46","hashOfConfig":"25"},{"size":847,"mtime":1608611914790,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"ouyudv",{"filePath":"50","messages":"51","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"53"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\garet\\Repositories\\img\\client\\src\\App.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_pages\\Upload.js",["97","98","99","100"],"import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport axios from \"axios\";\r\nimport useQueue from \"../_hooks/useQueue\";\r\n// uuidv4(); // â‡¨ '9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d'\r\nimport upload from \"../_utils/upload\";\r\n\r\nexport default function Upload() {\r\n  const uploadQueue = useQueue([]);\r\n\r\n  useEffect(async () => {\r\n    if (uploadQueue.size() > 0) {\r\n      const file = uploadQueue.peek();\r\n      console.log(\"Begin Uploading \", file.name);\r\n      await upload(file, { onUploadProgress: (event) => console.log(event) });\r\n      console.log(\"Done uploading \", file.name);\r\n      uploadQueue.dequeue();\r\n    }\r\n  }, [uploadQueue]);\r\n\r\n  const onDrop = useCallback(async (acceptedFiles) => {\r\n    // Do something with the files\r\n    uploadQueue.enqueueMany(acceptedFiles);\r\n  }, []);\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\r\n\r\n  return (\r\n    <div>\r\n      <h1>Upload Area</h1>\r\n      <div {...getRootProps()}>\r\n        <input {...getInputProps()} />\r\n        {isDragActive ? (\r\n          <p>Drop the files here ...</p>\r\n        ) : (\r\n          <p>Drag 'n' drop some files here, or click to select files</p>\r\n        )}\r\n      </div>\r\n      <h1>Queue</h1>\r\n      <div>\r\n        {uploadQueue.values?.map((file) => (\r\n          <p>\r\n            {file.name} {file.size}\r\n          </p>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",["101","102"],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_utils\\upload.js",["103"],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_hooks\\useQueue.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_pages\\Home.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\index.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\theme.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_pages\\Font.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_components\\Button.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_components\\TextInput.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_utils\\createAlbum.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_pages\\Album.js",["104","105","106","107","108","109","110","111"],"import React, { useEffect, useCallback, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport { QueryClient } from \"react-query\";\r\n\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport useAlbum from \"../_queries/useAlbum\";\r\n// import useUpload from \"../_mutations/useUpload\";\r\nimport usePhotos from \"../_queries/usePhotos\";\r\n\r\nimport upload from \"../_utils/upload\";\r\nimport useQueue from \"../_hooks/useQueue\";\r\n\r\nimport Button from \"../_components/Button\";\r\nimport UploadQueue from \"../_components/UploadQueue\";\r\n\r\nimport { UploadQueueContext } from \"../_contexts/uploadQueue\";\r\nimport { UploadProgressContext } from \"../_contexts/uploadProgress\";\r\nimport Photo from \"../_components/Photo\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n  },\r\n  content: {\r\n    maxWidth: \"960px\",\r\n    margin: \"auto\",\r\n  },\r\n  uploadBtn: {\r\n    position: \"fixed\",\r\n    bottom: \"30px\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n}));\r\n\r\nfunction isValidType(file) {\r\n  const type = file.type;\r\n  const validImageTypes = [\"image/gif\", \"image/jpeg\", \"image/png\", \"image/jpg\"];\r\n  return validImageTypes.includes(type);\r\n}\r\n\r\nexport default function Album() {\r\n  const classes = useStyles();\r\n  const { albumCode } = useParams();\r\n  const { data: album } = useAlbum(albumCode);\r\n  // const uploadQueue = useQueue([]);\r\n  // const { mutateAsync: upload } = useUpload(albumCode);\r\n  const { data: photos, refetch: refetchPhotos } = usePhotos(albumCode);\r\n  const { uploadQueue } = useContext(UploadQueueContext);\r\n  const { progress, setProgress } = useContext(UploadProgressContext);\r\n  const queryClient = new QueryClient();\r\n\r\n  useEffect(() => {\r\n    console.log(album);\r\n  }, [album]);\r\n\r\n  useEffect(async () => {\r\n    if (uploadQueue.size() > 0) {\r\n      const file = uploadQueue.peek();\r\n      console.log(\"Begin Uploading \", file.name);\r\n      await upload(albumCode, file, {\r\n        onUploadProgress: ({ loaded, total }) => {\r\n          setProgress(loaded / total);\r\n        },\r\n      });\r\n      setProgress(0);\r\n      await new Promise((resolve) => setTimeout(resolve, 1000));\r\n      refetchPhotos();\r\n      uploadQueue.dequeue();\r\n    }\r\n  }, [uploadQueue]);\r\n\r\n  const onDrop = useCallback(async (droppedFiles) => {\r\n    // Do something with the files\r\n\r\n    const acceptedFiles = droppedFiles.filter(isValidType).map((file) => {\r\n      // Generate a key for each file\r\n      const key = uuidv4();\r\n      file.key = key;\r\n\r\n      // Generate dimensions for the image\r\n      const objectURL = URL.createObjectURL(file);\r\n\r\n      return file;\r\n    });\r\n\r\n    console.log(acceptedFiles);\r\n\r\n    uploadQueue.enqueueMany(acceptedFiles);\r\n  }, []);\r\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({ onDrop });\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <UploadQueue />\r\n      <div className={classes.root}>\r\n        <div className={classes.content}>\r\n          {albumCode}\r\n\r\n          <div>\r\n            <Typography variant=\"h1\">Photos</Typography>\r\n            {photos?.map((photo, index) => (\r\n              <Photo photo={photo} key={index} />\r\n            ))}\r\n          </div>\r\n\r\n          <div className={classes.uploadBtn} {...getRootProps()}>\r\n            <input {...getInputProps()} />\r\n            <Button variant=\"contained\" color=\"primary\">\r\n              Upload\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","C:\\Users\\garet\\Repositories\\img\\client\\src\\_mutations\\useUpload.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_components\\UploadQueue.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_contexts\\uploadQueue.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_components\\LinearProgress.js",["112"],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_contexts\\uploadProgress.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_queries\\usePhotos.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_components\\Photo.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_hooks\\useTextInput.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_pages\\Authenticate.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_mutations\\useSignup.js",[],"C:\\Users\\garet\\Repositories\\img\\client\\src\\_mutations\\useLogin.js",[],{"ruleId":"113","severity":1,"message":"114","line":1,"column":41,"nodeType":"115","messageId":"116","endLine":1,"endColumn":49},{"ruleId":"113","severity":1,"message":"117","line":3,"column":8,"nodeType":"115","messageId":"116","endLine":3,"endColumn":13},{"ruleId":"118","severity":1,"message":"119","line":11,"column":13,"nodeType":"120","endLine":19,"endColumn":4},{"ruleId":"118","severity":1,"message":"121","line":24,"column":6,"nodeType":"122","endLine":24,"endColumn":8,"suggestions":"123"},{"ruleId":"124","replacedBy":"125"},{"ruleId":"126","replacedBy":"127"},{"ruleId":"113","severity":1,"message":"128","line":2,"column":16,"nodeType":"115","messageId":"116","endLine":2,"endColumn":22},{"ruleId":"113","severity":1,"message":"129","line":16,"column":8,"nodeType":"115","messageId":"116","endLine":16,"endColumn":16},{"ruleId":"113","severity":1,"message":"130","line":56,"column":11,"nodeType":"115","messageId":"116","endLine":56,"endColumn":19},{"ruleId":"113","severity":1,"message":"131","line":57,"column":9,"nodeType":"115","messageId":"116","endLine":57,"endColumn":20},{"ruleId":"118","severity":1,"message":"119","line":63,"column":13,"nodeType":"120","endLine":77,"endColumn":4},{"ruleId":"118","severity":1,"message":"132","line":77,"column":6,"nodeType":"122","endLine":77,"endColumn":19,"suggestions":"133"},{"ruleId":"113","severity":1,"message":"134","line":88,"column":13,"nodeType":"115","messageId":"116","endLine":88,"endColumn":22},{"ruleId":"118","severity":1,"message":"121","line":96,"column":6,"nodeType":"122","endLine":96,"endColumn":8,"suggestions":"135"},{"ruleId":"113","severity":1,"message":"136","line":97,"column":40,"nodeType":"115","messageId":"116","endLine":97,"endColumn":52},{"ruleId":"113","severity":1,"message":"137","line":1,"column":10,"nodeType":"115","messageId":"116","endLine":1,"endColumn":20},"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'axios' is defined but never used.","react-hooks/exhaustive-deps","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","React Hook useCallback has a missing dependency: 'uploadQueue'. Either include it or remove the dependency array.","ArrayExpression",["138"],"no-native-reassign",["139"],"no-negated-in-lhs",["140"],"'uuidv4' is defined but never used.","'useQueue' is defined but never used.","'progress' is assigned a value but never used.","'queryClient' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'albumCode', 'refetchPhotos', and 'setProgress'. Either include them or remove the dependency array.",["141"],"'objectURL' is assigned a value but never used.",["142"],"'isDragActive' is assigned a value but never used.","'makeStyles' is defined but never used.",{"desc":"143","fix":"144"},"no-global-assign","no-unsafe-negation",{"desc":"145","fix":"146"},{"desc":"143","fix":"147"},"Update the dependencies array to be: [uploadQueue]",{"range":"148","text":"149"},"Update the dependencies array to be: [albumCode, refetchPhotos, setProgress, uploadQueue]",{"range":"150","text":"151"},{"range":"152","text":"149"},[847,849],"[uploadQueue]",[2395,2408],"[albumCode, refetchPhotos, setProgress, uploadQueue]",[2891,2893]]